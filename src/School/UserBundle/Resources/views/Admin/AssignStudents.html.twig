{% extends 'SchoolUserBundle::base.html.twig' %}

{% block title %}Assign Students{% endblock %}

{# {% block header_javascripts %}
{{ parent() }}
<script type="text/javascript" src="{{ asset('bundles/schooluser/js/SchoolClassTest.js') }}"></script>
{% endblock %} #}

{% block body %}
<div class="container-fluid">

    <h2> Assign Students </h2><br/>

    {{ form_start(form) }}
    <div class="row">
        <div class="col-md-8">        
            {{ form_errors(form) }}
            {{ form_label(form.assigned) }}
            {{ form_errors(form.assigned) }}
            {{ form_widget(form.assigned) }}          
        </div>
        <div class="col-md-4"> </div>        
    </div>
    
    <div class="row">
        <div class="col-md-8">
            {{ form_label(form.schoolClass) }}
            {{ form_errors(form.schoolClass) }}
            {{ form_widget(form.schoolClass) }}
            
            {{ form_widget(form.update)  }}       
        </div>
    </div>
    {{ form_end(form) }}
    
    <div class="row">
        <form action="{{ path('admin_selected_students') }}" method="post">
        <table class="table table-hover">
        <thead>
        <tr>
            <th>  Full Name  </th>
            <th> Username </th>
            <th>  Class  </th>
            <th> Select </th>
        </tr>
        </thead>
        
        {%  for student in students %}
            <tbody>
            <tr>
                <td> <a href="{{ path('admin_user_edit', {'userId': student.user.id }) }}"> {{ student.user.lastName }} {{ student.user.firstName }} </a></td>
                <td> {{ student.user.username }} </td>
                <td> {% if student.schoolClass is not null %}
                        {{ student.schoolClass.name }} - {{ student.schoolClass.schoolYear }}
                    {% endif %}</td>
                <td> <input type="checkbox" name="select[]" value="{{ student.user.id }}"> </td>
            </tr>
            </tbody>
        {% endfor %}

        </table>
        <select required name="studentAction">
        <option value=""> - Select an action </option>
        <option value="assignment">Assign to a class </option>
        </select>
        <input type="submit" name="submit" value="Submit">
        </form>
    </div>
</div>

{% endblock %}